# Bi-objective-vehicle-routing-integrating-k-shortest-paths:
For some commercial truck companies, they will keep tracking the driving information such as location and the safety-related critical events on the road. According to this information, we can find the location and speed for each driver. Further, the weather can be obtained by using Darksky.API. According to this trip information, we can extract the road network for those truck drivers, then implementing data analytics and optimization tools to help the driver to select the best route between two points considering the risk and real travel time. The entire work can be divided into four steps:

1. By using the K-shortest paths algorithm, we can find the k best results based on either the total distance or the mean travel time for each alternative route. Regarding the mean travel time, it represents the travel time from DistanceAPI from Google. In this project, I used the distance of routes first, but it ends up with some unreasonable routes. The reason is that the shortest route can not ensure the route with the least travel time due to the speed limit. More specifically, the route between two locations with the least travel time usually results in a highway since the speed limit is larger than others and it won't have many traffic lights. Consequently, in this step, we will use the mean travel time as a criterion to identify the best alternative routes. 
Further, to apply the k-shortest paths algorithm, we need to build the road network first. In other words, the nodes and links are essential. If the road network exists, we can use it directly. Otherwise, we need to extract the road network from the data we have. In this project, we selected the road network between Nashville, TN, and Gary, IL. 

2. After finding the alternative routes between Nashville and Gary, the problem becomes a bi-objective vehicle routing problem with the purpose to find the optimal solution according to our two objectives including the risk and real travel time. In terms of road risk, most of the research used the accident while a few recent research applied those safety-related critical events to represent the risk on the road. Usually, there are four different types of safety-critical events: hard-break, headway, roll instability, crash mitigation. There are two reasons to use the safety-critical events as pre-caution of accidents. Firstly, safety-related critical events are associated with the real crash. Secondly, comparing with the real accident, it is more common for people to encounter in real life, so we can include more data in our study. Moreover, in our previous research, we have applied 9 different machine learning methods to evaluate the relationship between the information related to the trip, driver, traffic, weather, the sensor with the critical events. Also, the result shows the best model is XGB with an AUC of 0.765. To continue using those models, we need to prepare the information for the features in machine learning methods. More specifically, the weather is from Darksky.API. The speed means is generated from the mean travel time and the distance from Google. For the speed deviation, it is generated from the same distribution from our data sets. In the end, we will find the risk for each link at different times under various conditions. In the end, the risk in the objectives can be measured by those machine learning methods. It is noted that the risk for each link is varied as the time becasue the weather and traffic are time related variables.

3.  Besides the risk, we also need real travel time as one of the objectives to find the optimal solutions. In this step, the travel time is a time-dependent variable due to the condition of traffic. In other words, the mean speed is changed as the traffic condition. For example, if the driver travels during rush hours, the speed is lower than it for non-rush hours. 

4. When we found the result from the first step and examined both objectives for each choice, Pareto ranking can be implemented to sort the paths from the first step. For multiple objectives optimization, there are two popular methods to find the optimal solution. One is to use the average weighted method to combine the objectives, while the other one is focused on deciding the non-dominated solution. Here, we used the second method to determine the best route for the driver.
